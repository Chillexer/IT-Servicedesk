!function i(c,s,r){function l(e,t){if(!s[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var o=s[e]={exports:{}};c[e][0].call(o.exports,function(t){return l(c[e][1][t]||t)},o,o.exports,i,c,s,r)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({1:[function(t,e,n){"use strict";var i=io.connect("localhost");i.on("SQLQueryResponse",function(t){$("#form-new-edit").css("display",""),d(),$("#tab-btn-3").hasClass("active")?($(".create-pc").css("display","block"),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Computere"),$("#tab-3").css("display",""),$("#tab-3").find("tr").remove(),t.forEach(function(t){$("#tab-3").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')}),p()):$("#tab-btn-2").hasClass("active")?($("#tab-2").css("display",""),$(".create-pc").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Klargjorte Computere"),$("#tab-2").find("tr").remove(),t.forEach(function(t){$("#tab-2").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')}),p()):$("#tab-btn-1").hasClass("active")&&($("#tab-1").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Ordrer"),$(".create-pc").css("display",""),$("#tab-1").find("tr").remove(),t[0].forEach(function(t){$("#tab-1").append('<tr id="'+t.WID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.FirstName+" "+t.LastName+"</td>  <td >"+t.Mail+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')}),p())}),i.on("DeletePCResponse",function(t){"tab-1"==r?b():"tab-2"==r?u():"tab-3"==r&&f()}),i.on("DeleteMultiplePCResponse",function(t){"tab-1"==r?b():"tab-2"==r?u():"tab-3"==r&&f()}),i.on("RAMOptionsResponse",function(t){t[0].forEach(function(t,e){$("#ram").append('<option value="'+t.Size+'">'+t.Size+" GB RAM </option>")})}),i.on("HDDOptionsResponse",function(t){t[0].forEach(function(t,e){$("#hdd").append('<option value="'+t.Size+'">'+t.Size+" GB </option>")})}),i.on("GetTemplatesResponse",function(t){var n;console.log(t),n=t,$("#template").append('<option value="0"> --- </option>'),n[0].forEach(function(t,e){console.log(n),console.log(t),$("#template").append('<option value="'+t.ID+'">'+t.Name+" </option>")}),$("#template").on("change",function(){console.log($("#template").val()),0!=$("#template").val()&&($("#make").val(n[0][0].PCMake),$("#model").val(n[0][0].PCModel),$("#cpu").val(n[0][0].CPU),$("#description").val(n[0][0].Description),$("#make").prop("readonly","readonly"),$("#model").prop("readonly","readonly"),$("#cpu").prop("readonly","readonly"),$("#description").prop("readonly","readonly"))})}),i.on("OrderByIDResponse",function(t){$("#form-new-edit").find("#cid").val(t[0][0].CID),$("#form-new-edit").find("#id").val(t[0][0].WID),$("#form-new-edit").find("#name").val(t[0][0].FirstName+" "+t[0][0].LastName),$("#form-new-edit").find("#email").val(t[0][0].Mail),$("#form-new-edit").find("#number").val(t[0][0].Phone),$("#form-new-edit").find("#make").val(t[0][0].PCMake),$("#form-new-edit").find("#model").val(t[0][0].PCModel),$("#form-new-edit").find("#cpu").val(t[0][0].CPU),$("#form-new-edit").find("#ram").val(t[0][0].RAM+"GB"),$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!0),$(this).prop("readonly",!0)}),$("#form-new-edit form").attr("id","SaveOrder"),$("#SaveOrder").off(),$("#SaveOrder").on("submit",function(t){if(t.preventDefault(),!$("#form-new-edit").find("#ram").prop("readonly")){var e=$("#SaveOrder").serializeArray();i.emit("UpdateOrder",e),console.log(e)}});var n=t[0][0].DiskSizes.split(", "),a=t[0][0].DiskTypes.split(", "),o="";n.forEach(function(t,e){o+=t+" "+a[e],e!=n.length-1&&(o+=", ")}),$("#form-new-edit").find("#hdd").val(o),$("#form-new-edit").find("#price").val(t[0][0].Price),$("#form-new-edit").find("#status").append('<option value="'+t[0][0].Status+'">'+t[0][0].Status+"</option>")}),i.on("ProductElementResponse",function(t){console.log(t)}),i.on("UpdateOrderResponse",function(t){console.log(t),$(".tab").css("display",""),$("#form-new-edit").css("display",""),b()});var c=[],s=[],a=!1,r="tab-1";function o(t,e){return"select"==e.toLowerCase()?'<div class="form-group"><label for="'+t+'">'+t+':</label><select id="'+t+'" name="'+t+'"class="form-control" required></select></div>':"hidden"==e.toLowerCase()?'<div class="form-group"><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>':'<div class="form-group"><label for="'+t+'">'+t+':</label><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>'}var l={CreatePC:['<h2 class="form-new-heading">Opret Ny PC</h2>',o("template","select"),o("make","text"),o("model","text"),o("serial","text"),o("cpu","text"),o("ram","select"),o("hdd","select"),o("description","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Opret</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowOrder:['<h2 class="form-new-heading">Ordre</h2>',o("cid","hidden"),o("id","hidden"),o("name","text"),o("email","text"),o("number","text"),o("make","text"),o("model","text"),o("cpu","text"),o("ram","text"),o("hdd","text"),o("price","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowPC:['<h2 class="form-new-heading">PC</h2>',o("template","select"),o("make","text"),o("model","text"),o("serial","text"),o("cpu","text"),o("ram","text"),o("hdd","text"),o("description","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<a id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</a>']};function d(){$(function(){$("tr").off(),$('.main tr input[type="checkbox"]').off(),$(".main table tr .delete").off(),$(".star").off()})}function p(){$(function(){d(),$(".main table tr .delete").click(function(){if("tab-2"==r||"tab-3"==r){var t=$(this).closest("tr").attr("id");i.emit("DeletePC",t)}}),$("tr td:nth-of-type(3), tr td:nth-of-type(4)").click(function(){var t=$(this).closest("tr").attr("id");$("#form-new-edit").css("display","block"),$("#"+r).css("display","none"),$(".tab").css("display","none"),h("tab-1"==r?"ShowOrder":"ShowPC",t)}),$("tr").hover(function(){var n=this;$(this).find('input[type="checkbox"]').is(":checked")?$(this).find(".checkmark").css("background","#bbb"):$(this).find(".checkmark").css("background","#ccc"),$(this).find(".star").css("color","#ccc"),c.forEach(function(t,e){t.id==$(n).attr("id")&&t.checked&&$(n).find(".star").css("color","yellow")}),$(this).find(".delete").css("color","#ccc")},function(){var n=this;$(this).find(".delete").css("color",""),$(this).find(".checkmark").css("background",""),$(this).find(".star").css("color",""),c.forEach(function(t,e){t.id==$(n).attr("id")&&t.checked&&$(n).find(".star").css("color","yellow")})}),$(".main table tr .delete").hover(function(){$(this).css("color","rgb(255, 60, 60)")},function(){$(this).css("color","#ccc")}),$(".star").on("click",function(){var n=this,a=-1;c.forEach(function(t,e){t.id==$(n).closest("tr").attr("id")&&(a=e)}),-1==a&&(a=c.length,c.push({id:$(this).closest("tr").attr("id"),checked:$(this).prop("checked")})),c[a].checked?$(this).css("color",""):$(this).css("color","yellow"),c[a].checked=!c[a].checked}),a||$('.main tr input[type="checkbox"]').click(function(){var n=this;$(this).prop("checked");var a=-1;s.forEach(function(t,e){t.id==$(n).closest("tr").attr("id")&&(a=e)}),-1==a&&(a=s.length,s.push({id:$(this).closest("tr").attr("id"),checked:!1})),s[a].checked=!s[a].checked;var o=0;s.forEach(function(t,e){t.checked&&o++}),0<o&&"tab-1"!=r?$(".delete-selected").css("display","block"):$(".delete-selected").css("display","")})})}function f(){i.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus != 'klar til salg' AND ItemStatus != 'skrottet'")}function u(){i.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus = 'klar til salg'")}function b(){i.emit("SQLQuery","CALL GetOrders()")}function m(t){$("#template").off(),$(".close-form, .btn-back").off(),$("#altform").html(""),l[t].forEach(function(t){$("#altform").append(t)}),$(".close-form, .btn-back").click(function(){$(".tab").css("display",""),"tab-1"==r?b():"tab-2"==r?u():"tab-3"==r&&f()})}function h(t,e){m(t);var n={ShowOrder:["OrderByID","CALL GetOrderByID("+e+")"],ShowPC:["ProductElement",e]};i.emit(n[t][0],n[t][1])}$(".create-pc").click(function(){m("CreatePC"),i.emit("RAMOptions"),i.emit("HDDOptions"),i.emit("GetTemplates"),$(".create-pc").css("display",""),$("#form-new-edit").css("display","block"),$("#tab-3").css("display","none"),$(".tab").css("display","none")}),$("#altform").on("submit",function(t){t.preventDefault(),console.log(t);$("#altform").serializeArray();$(".tab").css("display","")}),$(".edit-form").click(function(){$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!1),$(this).prop("readonly",!1)})}),$(".delete-selected").click(function(){var e=[];s.forEach(function(t){t.checked&&e.push(t.id)}),i.emit("DeleteMultiplePC",e)}),$(".tablinks").each(function(){$(this).on("click",function(t){!function(t,e){var n,a,o;for(r=e,a=document.getElementsByClassName("tabcontent"),n=0;n<a.length;n++)a[n].style.display="none";for(o=document.getElementsByClassName("tablinks"),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");s.forEach(function(t){$("#"+t.id).find('input[type="checkbox"]').prop("checked",!1)}),c.forEach(function(t){$("#"+t.id).find(".star").css("color","#eee")}),s=[],c=[],$(".delete-selected").css("display",""),document.getElementById(e).style.display="table",t.currentTarget.className+=" active","tab-2"==e?u():"tab-1"==e?b():"tab-3"==e&&f()}(t,t.target.id.replace("-btn",""))})}),b()},{}]},{},[1]);
//# sourceMappingURL=ServiceDesk.js.map
