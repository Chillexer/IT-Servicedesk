!function i(s,r,c){function l(e,t){if(!r[e]){if(!s[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(d)return d(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[e]={exports:{}};s[e][0].call(o.exports,function(t){return l(s[e][1][t]||t)},o,o.exports,i,s,r,c)}return r[e].exports}for(var d="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,a){"use strict";var c=io.connect("localhost");c.on("SQLQueryResponse",function(t){$("#form-new-edit").css("display",""),d(),$("#tab-btn-3").hasClass("active")?($(".create-pc").css("display","block"),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Computere"),$("#tab-3").css("display",""),$("#tab-3").find("tr").remove(),t.forEach(function(t){$("#tab-3").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})):$("#tab-btn-2").hasClass("active")?($("#tab-2").css("display",""),$(".create-pc").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Klargjorte Computere"),$("#tab-2").find("tr").remove(),t.forEach(function(t){$("#tab-2").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})):$("#tab-btn-1").hasClass("active")&&($("#tab-1").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Ordrer"),$(".create-pc").css("display",""),$("#tab-1").find("tr").remove(),t[0].forEach(function(t){$("#tab-1").append('<tr id="'+t.WID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.FirstName+" "+t.LastName+"</td>  <td >"+t.Mail+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})),$(function(){d(),$(".main table tr .delete").click(function(){if("tab-2"==r||"tab-3"==r){var t=$(this).closest("tr").attr("id");c.emit("DeletePC",t)}}),$("tr td:nth-of-type(3), tr td:nth-of-type(4)").click(function(){var t=$(this).closest("tr").attr("id");$("#form-new-edit").css("display","block"),$("#"+r).css("display","none"),$(".tab").css("display","none"),b("tab-1"==r?"ShowOrder":"ShowPC",t)}),$("tr").hover(function(){var a=this;console.log("test"),$(this).find('input[type="checkbox"]').is(":checked")?$(this).find(".checkmark").css("background","#bbb"):$(this).find(".checkmark").css("background","#ccc"),$(this).find(".star").css("color","#ccc"),i.forEach(function(t,e){t.id==$(a).attr("id")&&t.checked&&$(a).find(".star").css("color","yellow")}),$(this).find(".delete").css("color","#ccc")},function(){var a=this;$(this).find(".delete").css("color",""),$(this).find(".checkmark").css("background",""),$(this).find(".star").css("color",""),i.forEach(function(t,e){t.id==$(a).attr("id")&&t.checked&&$(a).find(".star").css("color","yellow")})}),$(".main table tr .delete").hover(function(){$(this).css("color","rgb(255, 60, 60)")},function(){$(this).css("color","#ccc")}),$(".star").on("click",function(){var a=this;console.log("hej");var n=-1;i.forEach(function(t,e){t.id==$(a).closest("tr").attr("id")&&(n=e)}),-1==n&&(n=i.length,i.push({id:$(this).closest("tr").attr("id"),checked:$(this).prop("checked")})),i[n].checked?$(this).css("color",""):$(this).css("color","yellow"),i[n].checked=!i[n].checked}),n||$('.main tr input[type="checkbox"]').click(function(){var a=this;$(this).prop("checked");var n=-1;s.forEach(function(t,e){t.id==$(a).closest("tr").attr("id")&&(n=e)}),-1==n&&(n=s.length,s.push({id:$(this).closest("tr").attr("id"),checked:!1})),s[n].checked=!s[n].checked;var o=0;s.forEach(function(t,e){t.checked&&o++}),0<o&&"tab-1"!=r?$(".delete-selected").css("display","block"):$(".delete-selected").css("display","")})})}),c.on("DeletePCResponse",function(t){"tab-1"==r?m():"tab-2"==r?f():"tab-3"==r&&p()}),c.on("DeleteMultiplePCResponse",function(t){"tab-1"==r?m():"tab-2"==r?f():"tab-3"==r&&p()}),c.on("RAMOptionsResponse",function(t){t[0].forEach(function(t,e){$("#ram").append('<option value="'+t.Size+'">'+t.Size+" GB RAM </option>")})}),c.on("HDDOptionsResponse",function(t){t[0].forEach(function(t,e){$("#hdd").append('<option value="'+t.Size+'">'+t.Size+" GB </option>")})}),c.on("GetTemplatesResponse",function(t){var e;e=t,$("#template").append('<option value="0"> --- </option>'),$("#template").append('<option value="ny"> Ny Template </option>'),e[0].forEach(function(t,e){$("#template").append('<option value="'+t.ID+'">'+t.Name+" </option>"),$("#status").append('<option value="Ukendt" selected="selected">Ukendt</option>'),$("#status").append('<option value="Klar til salg">Klar til salg</option>'),$("#status").append('<option value="Venter på reservedele">Venter på reservedele</option>'),$("#status").append('<option value="Skrottet">Skrottet</option>')}),$("#template").on("change",function(){var a=this;if(console.log(e),0!=$("#template").val()&&"ny"!=$("#template").val()){var n=0;e[0].forEach(function(t,e){t.ID==$(a).val()&&(n=e)}),$("#name").val(e[0][n].Name),$("#make").val(e[0][n].PCMake),$("#model").val(e[0][n].PCModel),$("#cpu").val(e[0][n].CPU),$("#description").val(e[0][n].Description),$("#ram").val(e[0][n].RAM),$("#hdd").val(e[0][n].HDD),$("#name").prop("readonly","readonly"),$("#make").prop("readonly","readonly"),$("#model").prop("readonly","readonly"),$("#cpu").prop("readonly","readonly"),$("#description").prop("readonly","readonly"),$("#ram").attr("disabled","disabled"),$("#hdd").attr("disabled","disabled")}else $("#template").val(),$("#name").val(""),$("#make").val(""),$("#model").val(""),$("#cpu").val(""),$("#description").val(""),$("#name").prop("readonly",!1),$("#make").prop("readonly",!1),$("#model").prop("readonly",!1),$("#cpu").prop("readonly",!1),$("#description").prop("readonly",!1),$("#ram").attr("disabled",!1),$("#hdd").attr("disabled",!1)})}),c.on("GetTemplateRamDiskResponse",function(t){var e;e=t,$("#template").append('<option value="0"> --- </option>'),e[0].forEach(function(t,e){})}),c.on("InsertTemplateResponse",function(t){}),c.on("OrderByIDResponse",function(t){$("#form-new-edit").find("#cid").val(t[0][0].CID),$("#form-new-edit").find("#id").val(t[0][0].WID),$("#form-new-edit").find("#name").val(t[0][0].FirstName+" "+t[0][0].LastName),$("#form-new-edit").find("#email").val(t[0][0].Mail),$("#form-new-edit").find("#number").val(t[0][0].Phone),$("#form-new-edit").find("#make").val(t[0][0].PCMake),$("#form-new-edit").find("#model").val(t[0][0].PCModel),$("#form-new-edit").find("#cpu").val(t[0][0].CPU),$("#form-new-edit").find("#ram").val(t[0][0].RAM+"GB"),$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!0),$(this).prop("readonly",!0)}),$("#form-new-edit form").attr("id","SaveOrder"),$("#SaveOrder").off(),$("#SaveOrder").on("submit",function(t){if(t.preventDefault(),!$("#form-new-edit").find("#ram").prop("readonly")){var e=$("#SaveOrder").serializeArray();c.emit("UpdateOrder",e),console.log(e)}});var a=t[0][0].DiskSizes.split(", "),n=t[0][0].DiskTypes.split(", "),o="";a.forEach(function(t,e){o+=t+" "+n[e],e!=a.length-1&&(o+=", ")}),$("#form-new-edit").find("#hdd").val(o),$("#form-new-edit").find("#price").val(t[0][0].Price),$("#form-new-edit").find("#status").append('<option value="'+t[0][0].Status+'">'+t[0][0].Status+"</option>")}),c.on("ProductElementResponse",function(t){console.log(t)}),c.on("UpdateOrderResponse",function(t){console.log(t),$(".tab").css("display",""),$("#form-new-edit").css("display",""),m()});var i=[],s=[],n=!1,r="tab-1";function o(t,e){return"select"==e.toLowerCase()?'<div class="form-group"><label for="'+t+'">'+t+':</label><select id="'+t+'" name="'+t+'"class="form-control" required></select></div>':"hidden"==e.toLowerCase()?'<div class="form-group"><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>':'<div class="form-group"><label for="'+t+'">'+t+':</label><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>'}var l={CreatePC:['<h2 class="form-new-heading">Opret Ny PC</h2>',o("template","select"),o("name","text"),o("make","text"),o("model","text"),o("serial","text"),o("cpu","text"),o("ram","select"),o("hdd","select"),o("description","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Opret</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowOrder:['<h2 class="form-new-heading">Ordre</h2>',o("cid","hidden"),o("id","hidden"),o("name","text"),o("email","text"),o("number","text"),o("make","text"),o("model","text"),o("cpu","text"),o("ram","text"),o("hdd","text"),o("price","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowPC:['<h2 class="form-new-heading">PC</h2>',o("template","select"),o("make","text"),o("model","text"),o("serial","text"),o("cpu","text"),o("ram","text"),o("hdd","text"),o("description","text"),o("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<a id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</a>']};function d(){$("tr").off(),$('.main tr input[type="checkbox"]').off(),$(".main table tr .delete").off(),$(".star").off()}function p(){c.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus != 'klar til salg' AND ItemStatus != 'skrottet'")}function f(){c.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus = 'klar til salg'")}function m(){c.emit("SQLQuery","CALL GetOrders()")}function u(t){$("#template").off(),$(".close-form, .btn-back").off(),$("#altform").html(""),l[t].forEach(function(t){$("#altform").append(t)}),$(".close-form, .btn-back").click(function(){$(".tab").css("display",""),"tab-1"==r?m():"tab-2"==r?f():"tab-3"==r&&p()})}function b(t,e){u(t);var a={ShowOrder:["OrderByID","CALL GetOrderByID("+e+")"],ShowPC:["ProductElement",e]};c.emit(a[t][0],a[t][1])}$(".create-pc").click(function(){u("CreatePC"),c.emit("RAMOptions"),c.emit("HDDOptions"),c.emit("GetTemplates"),c.emit("GetTemplateRamDisk"),$(".create-pc").css("display",""),$("#form-new-edit").css("display","block"),$("#tab-3").css("display","none"),$(".tab").css("display","none")}),$("#altform").on("submit",function(t){t.preventDefault(),console.log(t);$("#altform").serializeArray();$(".tab").css("display","");var e=$("#name").val(),a=$("#make").val(),n=$("#model").val(),o=$("#cpu").val(),i=$("#ram").val(),s=$("#hdd").val(),r=$("#description").val();"ny"==$("#template").val()&&c.emit("SaveTemplate",{name:e,make:a,model:n,cpu:o,ram:i,hdd:s,desc:r})}),$(".edit-form").click(function(){$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!1),$(this).prop("readonly",!1)})}),$(".delete-selected").click(function(){var e=[];s.forEach(function(t){t.checked&&e.push(t.id)}),c.emit("DeleteMultiplePC",e)}),$(".tablinks").each(function(){$(this).on("click",function(t){!function(t,e){var a,n,o;for(r=e,n=document.getElementsByClassName("tabcontent"),a=0;a<n.length;a++)n[a].style.display="none";for(o=document.getElementsByClassName("tablinks"),a=0;a<o.length;a++)o[a].className=o[a].className.replace(" active","");s.forEach(function(t){$("#"+t.id).find('input[type="checkbox"]').prop("checked",!1)}),i.forEach(function(t){$("#"+t.id).find(".star").css("color","#eee")}),s=[],i=[],$(".delete-selected").css("display",""),document.getElementById(e).style.display="table",t.currentTarget.className+=" active","tab-2"==e?f():"tab-1"==e?m():"tab-3"==e&&p()}(t,t.target.id.replace("-btn",""))})}),m()},{}]},{},[1]);
//# sourceMappingURL=ServiceDesk.js.map
