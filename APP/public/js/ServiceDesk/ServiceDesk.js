!function i(r,s,l){function c(e,t){if(!s[e]){if(!r[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(d)return d(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[e]={exports:{}};r[e][0].call(o.exports,function(t){return c(r[e][1][t]||t)},o,o.exports,i,r,s,l)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,a){"use strict";var i=[],r=[],s="tab-1";function n(t,e){return"select"==e.toLowerCase()?'<div class="form-group"><label for="'+t+'">'+t+':</label><select id="'+t+'" name="'+t+'"class="form-control" required></select></div>':"hidden"==e.toLowerCase()?'<div class="form-group"><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>':'<div class="form-group"><label for="'+t+'">'+t+':</label><input type="'+e+'" id="'+t+'" class="form-control" name="'+t+'" placeholder="'+t+'"></div>'}var o={CreatePC:['<h2 class="form-new-heading">Opret Ny PC</h2>',n("template","select"),n("name","text"),n("make","text"),n("model","text"),n("serial","text"),n("cpu","text"),n("ram","select"),n("hdd","select"),n("description","text"),n("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Opret</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowOrder:['<h2 class="form-new-heading">Ordre</h2>',n("cid","hidden"),n("id","hidden"),n("name","text"),n("email","text"),n("number","text"),n("make","text"),n("model","text"),n("cpu","text"),n("ram","text"),n("hdd","text"),n("price","text"),n("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>'],ShowPC:['<h2 class="form-new-heading">PC</h2>',n("make","text"),n("model","text"),n("serial","text"),n("cpu","text"),n("ram","text"),n("hdd","text"),n("description","text"),n("status","select"),'<button id="btn-submit" class="btn btn-lg btn-primary btn-block" type="submit">Gem</button>','<button id="btn-back" class="btn-back btn btn-lg btn-danger btn-block" type="button">Annuller</button>']},c=io.connect("localhost");function l(){$("tr").off(),$('.main tr input[type="checkbox"]').off(),$(".main table tr .delete").off(),$(".star").off()}function d(){c.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus != 'klar til salg' AND ItemStatus != 'skrottet'")}function p(){c.emit("SQLQuery","SELECT * FROM `PC` where ItemStatus = 'klar til salg'")}function f(){c.emit("SQLQuery","CALL GetOrders()")}function m(t){$("#template").off(),$(".close-form, .btn-back").off(),$("#altform, #SaveOrder").html(""),$("#altform, #SaveOrder").attr("id","altform"),o[t].forEach(function(t){$("#altform").append(t)}),"CreatePC"==t?$(".edit-form").css("display","none"):$(".edit-form").css("display",""),$(".close-form, .btn-back").click(function(){$(".tab").css("display",""),"tab-1"==s?f():"tab-2"==s?p():"tab-3"==s&&d()})}function u(t,e){m(t);var a={ShowOrder:["OrderByID","CALL GetOrderByID("+e+")"],ShowPC:["PCElement",e]};c.emit(a[t][0],a[t][1])}c.on("SQLQueryResponse",function(t){$("#form-new-edit").css("display",""),l(),$("#tab-btn-3").hasClass("active")?($(".create-pc").css("display","block"),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Computere"),$("#tab-3").css("display",""),$("#tab-3").find("tr").remove(),t.forEach(function(t){$("#tab-3").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})):$("#tab-btn-2").hasClass("active")?($("#tab-2").css("display",""),$(".create-pc").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Klargjorte Computere"),$("#tab-2").find("tr").remove(),t.forEach(function(t){$("#tab-2").append('<tr id="'+t.ID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.PCMake+" "+t.PCModel+"</td>  <td >"+t.Serial+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})):$("#tab-btn-1").hasClass("active")&&($("#tab-1").css("display",""),$('.main #searchdiv input[type="text"]').attr("placeholder","Søg i Ordrer"),$(".create-pc").css("display",""),$("#tab-1").find("tr").remove(),t[0].forEach(function(t){$("#tab-1").append('<tr id="'+t.WID+'"><td><label class = "containers"> <input type = "checkbox" > <span class = "checkmark" > </span> </label>  </td>  <td > <a class = "material-icons star" > stars </a>  </td>  <td >'+t.FirstName+" "+t.LastName+"</td>  <td >"+t.Mail+'</td>  <td > <i class = "material-icons delete" >delete</i> </td></tr >')})),$(function(){l(),$(".main table tr .delete").click(function(){if("tab-2"==s||"tab-3"==s){var t=$(this).closest("tr").attr("id");c.emit("DeletePC",t)}}),$("tr td:nth-of-type(3), tr td:nth-of-type(4)").click(function(){var t=$(this).closest("tr").attr("id");$("#form-new-edit").css("display","block"),$("#"+s).css("display","none"),$(".tab").css("display","none"),console.log(s),u("tab-1"==s?"ShowOrder":"ShowPC",t),$(".create-pc").css("display","none")}),$("tr").hover(function(){var a=this;$(this).find('input[type="checkbox"]').is(":checked")?$(this).find(".checkmark").css("background","#bbb"):$(this).find(".checkmark").css("background","#ccc"),$(this).find(".star").css("color","#ccc"),i.forEach(function(t,e){t.id==$(a).attr("id")&&t.checked&&$(a).find(".star").css("color","yellow")}),$(this).find(".delete").css("color","#ccc")},function(){var a=this;$(this).find(".delete").css("color",""),$(this).find(".checkmark").css("background",""),$(this).find(".star").css("color",""),i.forEach(function(t,e){t.id==$(a).attr("id")&&t.checked&&$(a).find(".star").css("color","yellow")})}),$(".main table tr .delete").hover(function(){$(this).css("color","rgb(255, 60, 60)")},function(){$(this).css("color","#ccc")}),$(".star").on("click",function(){var a=this;console.log("hej");var n=-1;i.forEach(function(t,e){t.id==$(a).closest("tr").attr("id")&&(n=e)}),-1==n&&(n=i.length,i.push({id:$(this).closest("tr").attr("id"),checked:$(this).prop("checked")})),i[n].checked?$(this).css("color",""):$(this).css("color","yellow"),i[n].checked=!i[n].checked}),$('.main tr input[type="checkbox"]').click(function(){var a=this;$(this).prop("checked");var n=-1;r.forEach(function(t,e){t.id==$(a).closest("tr").attr("id")&&(n=e)}),-1==n&&(n=r.length,r.push({id:$(this).closest("tr").attr("id"),checked:!1})),r[n].checked=!r[n].checked;var o=0;r.forEach(function(t,e){t.checked&&o++}),0<o&&"tab-1"!=s?$(".delete-selected").css("display","block"):$(".delete-selected").css("display","")})})}),c.on("DeletePCResponse",function(t){"tab-1"==s?f():"tab-2"==s?p():"tab-3"==s&&d()}),c.on("DeleteMultiplePCResponse",function(t){"tab-1"==s?f():"tab-2"==s?p():"tab-3"==s&&d()}),c.on("RAMOptionsResponse",function(t){t[0].forEach(function(t,e){$("#ram").append('<option value="'+t.Size+'">'+t.Size+" GB RAM </option>")})}),c.on("HDDOptionsResponse",function(t){t[0].forEach(function(t,e){$("#hdd").append('<option value="'+t.Size+'">'+t.Size+" GB </option>")})}),c.on("GetTemplatesResponse",function(t){var e;e=t,$("#template").append('<option value="0"> --- </option>'),$("#template").append('<option value="ny"> Ny Template </option>'),e[0].forEach(function(t,e){$("#template").append('<option value="'+t.ID+'">'+t.Name+" </option>"),$("#status").append('<option value="Ukendt" selected="selected">Ukendt</option>'),$("#status").append('<option value="Klar til salg">Klar til salg</option>'),$("#status").append('<option value="Venter på reservedele">Venter på reservedele</option>'),$("#status").append('<option value="Skrottet">Skrottet</option>')}),$("#template").on("change",function(){var a=this;if(console.log(e),0!=$("#template").val()&&"ny"!=$("#template").val()){var n=0;e[0].forEach(function(t,e){t.ID==$(a).val()&&(n=e)}),$("#name").val(e[0][n].Name),$("#make").val(e[0][n].PCMake),$("#model").val(e[0][n].PCModel),$("#cpu").val(e[0][n].CPU),$("#description").val(e[0][n].Description),$("#ram").val(e[0][n].RAM),$("#hdd").val(e[0][n].HDD),$("#name").prop("readonly","readonly"),$("#make").prop("readonly","readonly"),$("#model").prop("readonly","readonly"),$("#cpu").prop("readonly","readonly"),$("#description").prop("readonly","readonly"),$("#ram").attr("disabled","disabled"),$("#hdd").attr("disabled","disabled")}else $("#template").val(),$("#name").val(""),$("#make").val(""),$("#model").val(""),$("#cpu").val(""),$("#description").val(""),$("#name").prop("readonly",!1),$("#make").prop("readonly",!1),$("#model").prop("readonly",!1),$("#cpu").prop("readonly",!1),$("#description").prop("readonly",!1),$("#ram").attr("disabled",!1),$("#hdd").attr("disabled",!1)})}),c.on("InsertTemplateResponse",function(t){}),c.on("InsertPCResponse",function(t){InitInsertPC(t)}),c.on("PCElementResponse",function(t){console.log(t);$("#form-new-edit").find("#cid").val(t[0][0].CID),$("#form-new-edit").find("#id").val(t[0][0].WID),$("#form-new-edit").find("#make").val(t[0][0].PCMake),$("#form-new-edit").find("#model").val(t[0][0].PCModel),$("#form-new-edit").find("#serial").val(t[0][0].Serial),$("#form-new-edit").find("#cpu").val(t[0][0].CPU),$("#form-new-edit").find("#ram").val(t[0][0].RAM+"GB"),$("#form-new-edit").find("#hdd").val(t[0][0].hdd),$("#form-new-edit").find("#description").val(t[0][0].Description),[{value:"klar til salg"},{value:"skrottet"},{value:"ny"}].forEach(function(t){$("#form-new-edit").find("#status").append('<option value="'+t.value+'">'+t.value+"</option>")}),$("#form-new-edit").find("#status").val(t[0][0].ItemStatus.toLowerCase()),$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!0),$(this).prop("readonly",!0)})}),c.on("OrderByIDResponse",function(t){$("#form-new-edit").find("#cid").val(t[0][0].CID),$("#form-new-edit").find("#id").val(t[0][0].WID),$("#form-new-edit").find("#name").val(t[0][0].FirstName+" "+t[0][0].LastName),$("#form-new-edit").find("#email").val(t[0][0].Mail),$("#form-new-edit").find("#number").val(t[0][0].Phone),$("#form-new-edit").find("#make").val(t[0][0].PCMake),$("#form-new-edit").find("#model").val(t[0][0].PCModel),$("#form-new-edit").find("#cpu").val(t[0][0].CPU),$("#form-new-edit").find("#ram").val(t[0][0].RAM+"GB"),$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!0),$(this).prop("readonly",!0)}),$("#form-new-edit form").attr("id","SaveOrder"),$("#SaveOrder").off(),$("#SaveOrder").on("submit",function(t){if(t.preventDefault(),!$("#form-new-edit").find("#ram").prop("readonly")){var e=$("#SaveOrder").serializeArray();c.emit("UpdateOrder",e),console.log(e)}});var a=t[0][0].DiskSizes.split(", "),n=t[0][0].DiskTypes.split(", "),o="";a.forEach(function(t,e){o+=t+" "+n[e],e!=a.length-1&&(o+=", ")}),$("#form-new-edit").find("#hdd").val(o),$("#form-new-edit").find("#price").val(t[0][0].Price),$("#form-new-edit").find("#status").append('<option value="'+t[0][0].Status+'">'+t[0][0].Status+"</option>")}),c.on("UpdateOrderResponse",function(t){console.log(t),$(".tab").css("display",""),$("#form-new-edit").css("display",""),f()}),$(".create-pc").click(function(){m("CreatePC"),c.emit("RAMOptions"),c.emit("HDDOptions"),c.emit("GetTemplates"),$(".create-pc").css("display",""),$("#form-new-edit").css("display","block"),$("#tab-3").css("display","none"),$(".tab").css("display","none")}),$("#altform").on("submit",function(t){t.preventDefault(),console.log(t);$("#altform").serializeArray();$(".tab").css("display","");var e=$("#name").val(),a=$("#make").val(),n=$("#model").val(),o=$("#cpu").val(),i=$("#ram").val(),r=$("#hdd").val(),s=$("#description").val(),l=$("#status").val();"ny"==$("#template").val()?c.emit("SaveTemplate",{name:e,make:a,model:n,cpu:o,ram:i,hdd:r,desc:s}):c.emit("InsertPC",{make:a,model:n,serial:serial,cpu:o,ram:i,hdd:r,desc:s,status:l})}),$(".edit-form").click(function(){$("#form-new-edit").find(".form-control").each(function(){"status"==$(this).attr("id")&&$(this).prop("disabled",!1),$(this).prop("readonly",!1)})}),$(".delete-selected").click(function(){var e=[];r.forEach(function(t){t.checked&&e.push(t.id)}),c.emit("DeleteMultiplePC",e)}),$(".tablinks").each(function(){$(this).on("click",function(t){!function(t,e){var a,n,o;for(s=e,n=document.getElementsByClassName("tabcontent"),a=0;a<n.length;a++)n[a].style.display="none";for(o=document.getElementsByClassName("tablinks"),a=0;a<o.length;a++)o[a].className=o[a].className.replace(" active","");r.forEach(function(t){$("#"+t.id).find('input[type="checkbox"]').prop("checked",!1)}),i.forEach(function(t){$("#"+t.id).find(".star").css("color","#eee")}),r=[],i=[],$(".delete-selected").css("display",""),document.getElementById(e).style.display="table",t.currentTarget.className+=" active","tab-2"==e?p():"tab-1"==e?f():"tab-3"==e&&d()}(t,t.target.id.replace("-btn",""))})}),f()},{}]},{},[1]);
//# sourceMappingURL=ServiceDesk.js.map
